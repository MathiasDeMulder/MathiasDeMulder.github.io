<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css?family=Inter"
      rel="stylesheet"
    />
    <style>
      body {
        background-color: rgb(203, 117, 117);
        font-family: inter;
        font-size: 15px;
      }

      .buttonRegular {
        background-color: rgb(249, 161, 27, 0.8);
        border: 2px solid rgb(176, 114, 20);
        color: black;
        padding: 10px 15px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 5px;
        transition-duration: 0.4s;
        width: 40%;
      }

      .buttonDisabled {
        background-color: rgba(249, 160, 27, 0.292);
        border: 2px solid rgb(176, 114, 20);
        color: black;
        padding: 10px 15px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: default;
        border-radius: 5px;
        transition-duration: 0.4s;
        width: 40%;
      }

      .buttonReset {
        background-color: rgba(249, 64, 27, 1);
        border: 2px solid rgb(135, 26, 4);
        color: black;
        padding: 15px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 5px;
        transition-duration: 0.4s;
        width: 40%;
      }

      .buttonReset:hover {
        background-color: rgb(228, 87, 58);
        color: black;
      }

      .buttonRegular:hover {
        background-color: rgb(244, 197, 127);
        color: black;
      }

      .buttonAction {
        background-color: rgb(121, 189, 154);
        border: 2px solid rgb(87, 135, 110);
        color: black;
        padding: 15px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 5px;
        transition-duration: 0.4s;
        width: 40%;
      }

      .buttonAction:hover {
        background-color: rgb(108, 210, 157);
        color: black;
      }

      input {
        width: 40%;
      }

      input[type="number"],
      select {
        width: 40%;
        padding: 10px 20px;
        margin: 8px 0;
        display: inline-block;
        border: 1px solid rgb(179, 70, 70);
        border-radius: 5px;
        box-sizing: border-box;
        text-align: center;
      }

      img {
        margin-left: auto;
        width: 300px;
        border-radius: 40px;
        object-fit: cover;
      }
    </style>

    <title>Kombucha Calculator</title>
  </head>
  <body>
    <center>
      <h1>Kombucha calculator</h1>

      <button class="buttonRegular" id="Selection_0">Kombucha (liter)</button>
      <input type="number" id="inKombucha" placeholder="0.375" disabled /><br />
      <button class="buttonDisabled" id="Selection_1" disabled>
        Water (liter)
      </button>
      <input type="number" id="inWater" placeholder="0.3" disabled /><br />
      <button class="buttonRegular" id="Selection_2">Tea (bags)</button>
      <input type="number" id="inTeabags" placeholder="1" disabled /><br />
      <button class="buttonRegular" id="Selection_3">Sugar (gram)</button>
      <input type="number" id="inSugar" placeholder="25" disabled /><br />
      <button class="buttonRegular" id="Selection_4">
        Starter liquid (liter)
      </button>
      <input type="number" id="inStarter" placeholder="0.075" disabled /><br />
      <button class="buttonReset" id="reset">reset</button>

      <button class="buttonAction" id="btnStarter">CALCULATE</button>

      <br /><br />

      <p id="p1"></p>
    </center>

    <script>
      //select calculation method.
      let selector = 1;

      document.getElementById("Selection_0").onclick = function () {
        document.getElementById("inKombucha").removeAttribute("disabled");
        document.getElementById("inKombucha").removeAttribute("placeholder");
        document.getElementById("inWater").removeAttribute("placeholder");
        document.getElementById("inTeabags").removeAttribute("placeholder");
        document.getElementById("inSugar").removeAttribute("placeholder");
        document.getElementById("inStarter").removeAttribute("placeholder");
        selector = 1;
      };

      document.getElementById("Selection_2").onclick = function () {
        document.getElementById("inTeabags").removeAttribute("disabled");
        document.getElementById("inKombucha").removeAttribute("placeholder");
        document.getElementById("inWater").removeAttribute("placeholder");
        document.getElementById("inTeabags").removeAttribute("placeholder");
        document.getElementById("inSugar").removeAttribute("placeholder");
        document.getElementById("inStarter").removeAttribute("placeholder");
        selector = 2;
      };

      document.getElementById("Selection_3").onclick = function () {
        document.getElementById("inSugar").removeAttribute("disabled");
        document.getElementById("inKombucha").removeAttribute("placeholder");
        document.getElementById("inWater").removeAttribute("placeholder");
        document.getElementById("inTeabags").removeAttribute("placeholder");
        document.getElementById("inSugar").removeAttribute("placeholder");
        document.getElementById("inStarter").removeAttribute("placeholder");
        selector = 3;
      };

      document.getElementById("Selection_4").onclick = function () {
        document.getElementById("inStarter").removeAttribute("disabled");
        document.getElementById("inKombucha").removeAttribute("placeholder");
        document.getElementById("inWater").removeAttribute("placeholder");
        document.getElementById("inTeabags").removeAttribute("placeholder");
        document.getElementById("inSugar").removeAttribute("placeholder");
        document.getElementById("inStarter").removeAttribute("placeholder");
        selector = 4;
      };

      //pres calculate

      document.getElementById("btnStarter").onclick = function () {
        let V_kom = document.getElementById("inKombucha").value;
        let V_wat = document.getElementById("inWater").value;
        let Q_tea = document.getElementById("inTeabags").value;
        let M_sug = document.getElementById("inSugar").value;
        let V_sta = document.getElementById("inStarter").value;

        let ingredients = [V_kom, V_wat, Q_tea, M_sug, V_sta];
        temp = ingredients;

        //calculate ingredients();
        calc_K(ingredients, selector);

        //make all input fields white
        document.getElementById("inKombucha").removeAttribute("disabled");
        document.getElementById("inWater").removeAttribute("disabled");
        document.getElementById("inTeabags").removeAttribute("disabled");
        document.getElementById("inSugar").removeAttribute("disabled");
        document.getElementById("inStarter").removeAttribute("disabled");
      };

      function calc_K(ingredients, selector) {
        if (selector === 1) {
          //based on total
          V_kom = ingredients[0];
          V_wat = (V_kom / 0.375) * 0.3;
          Q_tea = (V_kom / 0.375) * 1;
          M_sug = (V_kom / 0.375) * 25;
          V_sta = (V_kom / 0.375) * 0.075;
        } else if (selector === 2) {
          //based on teabags
          Q_tea = ingredients[2];
          M_sug = (Q_tea / 1) * 25;
          V_sta = (Q_tea / 1) * 0.075;
          V_kom = (Q_tea / 1) * 0.375;
          V_wat = (Q_tea / 1) * 0.3;
        } else if (selector === 3) {
          //based on sugar
          M_sug = ingredients[3];
          V_sta = (M_sug / 25) * 0.075;
          V_kom = (M_sug / 25) * 0.375;
          V_wat = (M_sug / 25) * 0.3;
          Q_tea = (M_sug / 25) * 1;
        } else if (selector === 4) {
          V_sta = ingredients[4];
          V_kom = (V_sta / 0.075) * 0.375;
          V_wat = (V_sta / 0.075) * 0.3;
          Q_tea = (V_sta / 0.075) * 1;
          M_sug = (V_sta / 0.075) * 25;
        } else {
        }

        ingredients = [
          V_kom,
          V_wat,
          Math.round(Q_tea),
          Math.round(M_sug),
          V_sta,
        ];

        let output =
          "Cool your tea to 35Â°C before adding your scoby and starter liquid!";

        document.getElementById("p1").innerHTML = output;
        document
          .getElementById("inKombucha")
          .setAttribute("value", ingredients[0]);
        document
          .getElementById("inWater")
          .setAttribute("value", ingredients[1]);
        document
          .getElementById("inTeabags")
          .setAttribute("value", ingredients[2]);
        document
          .getElementById("inSugar")
          .setAttribute("value", ingredients[3]);
        document
          .getElementById("inStarter")
          .setAttribute("value", ingredients[4]);
      }

      document.getElementById("reset").onclick = function () {
        document.location.reload();
      };
    </script>
  </body>
</html>
